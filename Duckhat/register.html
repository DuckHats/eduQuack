<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register | Duckhat</title>
    <link rel="icon" href="images/ginebro-logo (1).png">
    <link rel="stylesheet" href="./css/style.css">
    <script>
        function validarFormulario() {
            var password = document.forms["registroForm"]["password"].value;
            var confirmarPassword = document.forms["registroForm"]["confirm_password"].value;

            if (password !== confirmarPassword) {
                alert("Las contraseñas no coinciden.");
                return false;
            }

            return true;
        }
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const params = new URLSearchParams(window.location.search);
            const error = params.get('error');

            if (error === 'incorrecto') {
                const alertDiv = document.createElement('div');
                alertDiv.className = 'alerta-roja';
                alertDiv.textContent = 'Datos introducidos incorrectos. Por favor, inténtalo de nuevo.';
                document.body.insertBefore(alertDiv, document.body.firstChild);
            }
        });
    </script>
</head>
<body>
    <header id="headerregister">
        <img src="../Duckhat/images/ginebro-logo-blanc-742059845.png">
        <h1>Crear un compte nou</h1>
    </header>

    <main class="registermain">
        <table>
            <form action="registro.php" method="post" onsubmit="return validarFormulario()" name="registroForm">
                <tr>
                    <td><input type="text" name="username" placeholder="Introduce tu nombre de usuario" required></td>
                    <td><label for="nivel_educativo">Curs:</label>
                        <select id="nivel_educativo" name="curso_id" required>
                            <option value="1ESO">1r_ESO</option>
                            <option value="2ESO">2n_ESO</option>
                            <option value="3ESO">3r_ESO</option>
                            <option value="4ESO">4t_ESO</option>
                            <option value="CicloMedio">Cicle_Mitjà</option>
                            <option value="CicloSuperior">Cicle_Superior</option>
                            <option value="Bachillerato">Batchillerat</option>
                        </select></td>
                </tr>
                <tr>
                    <td><input type="email" name="email" placeholder="Introduce tu correo electrónico" required></td>
                    <td><input type="date" name="fecha_nacimiento" required pattern="\d{4}-\d{2}-\d{2}" placeholder="YYYY-MM-DD"></td>
                </tr>
                <tr>
                    <td><input type="password" name="password" placeholder="Introduce la contraseña" required></td>
                    <td><input type="password" name="confirm_password" placeholder="Confirma la contraseña" required></td>
                </tr>
        </table>
        <input type="submit" value="Registrar-se">
        </form>
        <br>
        <a href="login.html">Login</a>
    </main>

</body>
</html>
